# GitHits
A GitHub Action for *permanently storing the traffic insights, i.e. views and counts, generated by GitHub.

**GitHub only provides traffic insights over a 14-day period. This GitHub Action was built to overcome that limitation.*

Built for usage with [GitHitServer](https://github.com/kausko/GitHitServer).

## Usage
- Create/Retrieve a Personal Access Token with repository-level access and create a repository secret with key: `PAT` and value: `40-character-PAT`
- Head over to GitHub actions and create a GitHub Actions workflow file by clicking on `set up a workflow yourself` 
- In the created file (`.github/workflows/main.yml`), add the following contents:

```yaml
# Controls when the action will run. 
on:
  schedule:
    - cron: "* 23 * * *"
  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:

# A workflow run is made up of one or more jobs that can run sequentially or in parallel
jobs:
  j1:
    name: GitHitJob
    runs-on: ubuntu-latest
    steps:
      - name: GitHits
        id: gh
        uses: kausko/GitHits@HEAD
        with:
          pat: ${{ secrets.PAT }}
      - name: Output
        run: echo ${{ steps.gh.outputs.status }}
```

- This action will run at every minute past hour 23 and populate the `hits.json` file. This behaviour can be changed by modifying the cron value.
- This action can also be run manually.
- To use this data on your README, head over to [GitHitServer](https://github.com/kausko/GitHitServer).

*NOTE: Keep the IDs, variables and secrets consistent throughout the setup*

## Inspired by
- [github-repo-stats](https://github.com/jgehrcke/github-repo-stats) by [jgehcrke](https://github.com/jgehrcke)